<div id="<%= dom_id discussion %>" class="bg-white rounded-xl shadow-md overflow-hidden mb-5 mt-5">
  <div class="flex">
    <%= render "discussions/voting", discussion: discussion %>

    <div class="md:flex-grow p-4">
      <div class="text-xl text-blue-600 font-semibold focus:outline-none focus:ring hover:text-blue-700">
        <%= link_to discussion.name, discussion, data: { turbo: false } %>
      </div>
      <p class="mt-4 mb-4"><%= discussion.description %></p>

      <div class="flex justify-between items-start mt-2">
        <ul class="flex space-x-2 mt-1">
          <% discussion.categories.each do |category| %>
            <li>
              <%= link_to category do %>
                <span class="font-medium rounded-md bg-blue-600 px-4 py-2 text-sm text-white focus:outline-none focus:ring hover:bg-blue-700"><%= category.name %></span>
              <% end %>
            </li>
          <% end %>
        </ul>
        <span class="ml-2"><%= discussion.posts.count %> answers</span>
      </div>

      <div class="flex justify-between items-center mt-2">
        <%= link_to discussion.user.full_name, "/#{discussion.user.slug}", class: "text-sm underline" %>
        <span class="text-sm">Asked <%= time_ago_in_words(discussion.created_at) %> ago.</span>
      </div>
    </div>
  </div>
</div>
