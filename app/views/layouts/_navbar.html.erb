<header class="shadow-md mx-auto py-1 px-3">
  <nav class="flex justify-between items-center">
    <div class="text-2xl">RubyBattle</div>
    <div class="space-x-8 flex items-center rounded-full px-3 py-1">
      <%= link_to 'Home', "/", class: 'px-2 py-1' %>
      <% room_id = SecureRandom.uuid %>
      <%= link_to 'Practice', practice_path(room_id: room_id), class: 'px-2 py-1' %>
      <%= link_to 'Users', users_path, class: 'px-2 py-1' %>
      <%= link_to 'Categories', categories_path, class: 'px-2 py-1' %>
      <div class="">
        <div class="dropdown inline-block relative">
          <button class="py-2 px-4 rounded inline-flex items-center">
            <span class="rounded-full border-2 border-black px-1 mr-1">
              <%= current_user.initials %>
            </span>
            <span class="mr-1">Profile</span>
            <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/> </svg>
          </button>
          <ul class="dropdown-menu absolute hidden text-gray-700 pt-1">
            <%= link_to 'View', "/users/#{current_user.slug}", class: 'rounded-t bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap' %>
            <%= link_to 'Edit', edit_user_registration_path, class: 'rounded-t bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap' %>
          </ul>
        </div>
      </div>
      <div class="rounded-full flex items-center justify-center">
        <%= turbo_stream_from current_user, :notifications %>
        <%= render "nav/notifications", user: current_user %>
      </div>
      <%= link_to new_discussion_path do %>
        <button class="rounded-md px-4 py-2 text-sm font-semibold focus:outline-none focus:ring hover:bg-blue-700 hover:text-white">
          Ask a question
        </button>
      <% end %>
      <%= link_to destroy_user_session_path, data: { turbo_method: "delete" } do %>
        <button class="rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white focus:outline-none focus:ring hover:bg-blue-700">
          Logout
        </button>
      <% end %>
    </div>
  </nav>
</header>
